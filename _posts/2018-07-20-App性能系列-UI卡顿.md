---
layout: post
title: "「App性能系列」APP性能检测工具"
subtitle: 'Android应用 APP性能学习'
date:       2018-07-20
author: "Wangxiong"
header-style: text
tags:
  - Android
  - APP性能
---

Android的应用程序经常出现UI卡顿的问题，一般可以使用第三方框架进行检测，如APM、BlockCanary，bugly等。

## 1. UI卡顿原因

应用程序刷新的最优策略是每16ms一帧（60fps)，如果一次操作超过16ms，用户就好感知到界面卡顿，所以尽量保证每次在16ms内处理完单次的所有的CPU与GPU计算、绘制、渲染等操作，否则会造成丢帧卡顿问题，常见造成卡顿的原因是：

1. UI线程的耗时操作
2. 布局Layout过于复杂，无法在16ms内完成渲染

3. View过度绘制，cpu or gpu负载过重。

4. View频繁的触发measure、layout事件，导致在绘制Ui的时间加剧，损耗加剧，造成View频繁渲染。

5. 内存频繁触发GC，在同一帧频繁的创建临时变量加剧内存的浪费和渲染的增加。虚拟机在执行GC垃圾回收的时候，会暂停所有的线程包括ui线程。只有当gc垃圾回收器完成工作才能继续开启线程执行工作。









